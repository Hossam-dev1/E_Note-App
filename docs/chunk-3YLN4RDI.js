import{a as k}from"./chunk-JJM7VFUE.js";import{Ca as y,Ka as F,L as p,S as a,T as n,Z as c,_a as C,ca as m,d as s,eb as I,fb as j,ja as g,ka as d,la as h,pa as v,s as l,ua as b,v as u,xa as w,y as f,za as S}from"./chunk-IVXWDJCI.js";var E=(r,e,D)=>({disabled:r,"btn-outline-secondary":e,"btn-secondary":D}),G=(()=>{let e=class e{constructor(i,o,t){this.profileService=i,this.router=o,this.userService=t,this.toggle=new u,this.isSubmitting=!1,this.destroyRef=p(c)}toggleFollowing(){this.isSubmitting=!0,this.userService.isAuthenticated.pipe(l(i=>i?this.profile.following?this.profileService.unfollow(this.profile.username):this.profileService.follow(this.profile.username):(this.router.navigate(["/login"]),s)),j(this.destroyRef)).subscribe({next:i=>{this.isSubmitting=!1,this.toggle.emit(i)},error:()=>this.isSubmitting=!1})}};e.\u0275fac=function(o){return new(o||e)(n(k),n(C),n(I))},e.\u0275cmp=f({type:e,selectors:[["app-follow-button"]],inputs:{profile:"profile"},outputs:{toggle:"toggle"},standalone:!0,features:[S],decls:3,vars:7,consts:[[1,"btn","btn-sm","action-btn",3,"ngClass","click"],[1,"ion-plus-round"]],template:function(o,t){o&1&&(g(0,"button",0),v("click",function(){return t.toggleFollowing()}),h(1,"i",1),b(2),d()),o&2&&(m("ngClass",y(3,E,t.isSubmitting,!t.profile.following,t.profile.following)),a(2),w(" \xA0 ",t.profile.following?"Unfollow":"Follow"," ",t.profile.username," "))},dependencies:[F],encapsulation:2});let r=e;return r})();export{G as a};
