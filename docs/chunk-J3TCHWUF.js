import{a as U}from"./chunk-DIDSKB7T.js";import{b as I,d as c,e as R,f as A,g as D,i as f,j as k,l as G,m as L,o as j}from"./chunk-6SYXPBD6.js";import{$a as w,Aa as v,L as b,S as i,T as p,Ya as _,Z as y,_a as T,ba as h,ca as l,ea as d,eb as E,fb as x,ja as r,ka as n,la as s,pa as S,ua as m,va as C,wa as F,y as g,za as N}from"./chunk-IVXWDJCI.js";import"./chunk-OLEEAF3F.js";var q=()=>["/login"];function M(t,o){t&1&&(r(0,"a",5),m(1,"Have an account?"),n()),t&2&&l("routerLink",v(1,q))}var V=()=>["/register"];function H(t,o){t&1&&(r(0,"a",5),m(1,"Need an account?"),n()),t&2&&l("routerLink",v(1,V))}function O(t,o){t&1&&s(0,"input",14)}var ee=(()=>{let o=class o{constructor(u,a,e){this.route=u,this.router=a,this.userService=e,this.authType="",this.title="",this.errors={errors:{}},this.isSubmitting=!1,this.destroyRef=b(y),this.authForm=new D({email:new f("",{validators:[c.required],nonNullable:!0}),password:new f("",{validators:[c.required],nonNullable:!0})})}ngOnInit(){this.authType=this.route.snapshot.url.at(-1).path,this.title=this.authType==="login"?"Sign in":"Sign up",this.authType==="register"&&this.authForm.addControl("username",new f("",{validators:[c.required],nonNullable:!0}))}submitForm(){this.isSubmitting=!0,this.errors={errors:{}},(this.authType==="login"?this.userService.login(this.authForm.value):this.userService.register(this.authForm.value)).pipe(x(this.destroyRef)).subscribe({next:()=>void this.router.navigate(["/"]),error:a=>{this.errors=a,this.isSubmitting=!1}})}};o.\u0275fac=function(a){return new(a||o)(p(_),p(T),p(E))},o.\u0275cmp=g({type:o,selectors:[["app-auth-page"]],standalone:!0,features:[N],decls:20,vars:9,consts:[[1,"auth-page"],[1,"container","page"],[1,"row"],[1,"col-md-6","offset-md-3","col-xs-12"],[1,"text-xs-center"],[3,"routerLink"],[3,"errors"],[3,"formGroup","ngSubmit"],[3,"disabled"],[1,"form-group"],["formControlName","username","placeholder","Username","class","form-control form-control-lg","type","text"],["formControlName","email","placeholder","Email","type","text",1,"form-control","form-control-lg"],["formControlName","password","placeholder","Password","type","password",1,"form-control","form-control-lg"],["type","submit",1,"btn","btn-lg","btn-primary","pull-xs-right",3,"disabled"],["formControlName","username","placeholder","Username","type","text",1,"form-control","form-control-lg"]],template:function(a,e){a&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h1",4),m(5),n(),r(6,"p",4),h(7,M,2,2,"a",5)(8,H,2,2,"a",5),n(),s(9,"app-list-errors",6),r(10,"form",7),S("ngSubmit",function(){return e.submitForm()}),r(11,"fieldset",8)(12,"fieldset",9),h(13,O,1,0,"input",10),n(),r(14,"fieldset",9),s(15,"input",11),n(),r(16,"fieldset",9),s(17,"input",12),n(),r(18,"button",13),m(19),n()()()()()()()),a&2&&(i(5),C(e.title),i(2),d(7,e.authType==="register"?7:-1),i(),d(8,e.authType==="login"?8:-1),i(),l("errors",e.errors),i(),l("formGroup",e.authForm),i(),l("disabled",e.isSubmitting),i(2),d(13,e.authType==="register"?13:-1),i(5),l("disabled",!e.authForm.valid),i(),F(" ",e.title," "))},dependencies:[w,U,j,k,I,R,A,G,L],encapsulation:2});let t=o;return t})();export{ee as default};
